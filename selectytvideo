#! /bin/bash

# strip timestamps and identifiers. Replace tabs with dashes
options="$(cat ~/.youtubesubs | cut -f 2,3 | sed -e 's/\t/ - /g')"

# present dmenu
selected="$(echo "$options" | dmenu -i -l 20)"

# make similar transformations again and match the selection. Return url
video_id="$(cat ~/.youtubesubs | sed -e 's/\t/ - /2' | grep "$selected" \
	| cut -f 3)"

echo "$video_id" | sed -e 's/^/https:\/\/www\.youtube\.com\/watch\?v=/'

